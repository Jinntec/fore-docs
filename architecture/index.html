<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.118.2"><meta name=description content><link rel=icon href=https://jinntec.github.io/fore-docs/images/favicon.png type=image/png><title>Architecture :: Fore Documentation</title><link href=https://jinntec.github.io/fore-docs/css/nucleus.css?1693585058 rel=stylesheet><link href=https://jinntec.github.io/fore-docs/css/fontawesome-all.min.css?1693585058 rel=stylesheet><link href=https://jinntec.github.io/fore-docs/css/hybrid.css?1693585058 rel=stylesheet><link href=https://jinntec.github.io/fore-docs/css/featherlight.min.css?1693585058 rel=stylesheet><link href=https://jinntec.github.io/fore-docs/css/perfect-scrollbar.min.css?1693585058 rel=stylesheet><link href=https://jinntec.github.io/fore-docs/css/auto-complete.css?1693585058 rel=stylesheet><link href=https://jinntec.github.io/fore-docs/css/atom-one-dark-reasonable.css?1693585058 rel=stylesheet><link href=https://jinntec.github.io/fore-docs/css/theme.css?1693585058 rel=stylesheet><link href=https://jinntec.github.io/fore-docs/css/hugo-theme.css?1693585058 rel=stylesheet><link href=https://jinntec.github.io/fore-docs/css/theme-fore.css?1693585058 rel=stylesheet><script src=https://jinntec.github.io/fore-docs/js/jquery-3.3.1.min.js?1693585058></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}:not(pre)>code+span.copy-to-clipboard{display:none}</style></head><body data-url=https://jinntec.github.io/fore-docs/architecture/><nav id=sidebar><div id=header-wrapper><div id=header><div style=display:flex;justify-items:center;align-items:center><a href=https://jinntec.github.io/fore-docs/><img src=https://jinntec.github.io/fore-docs/images/light-blue1.png width=120 class=logo></a></div></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=https://jinntec.github.io/fore-docs/js/lunr.min.js?1693585058></script>
<script type=text/javascript src=https://jinntec.github.io/fore-docs/js/auto-complete.js?1693585058></script>
<script type=text/javascript>var baseurl="https://jinntec.github.io/fore-docs/"</script><script type=text/javascript src=https://jinntec.github.io/fore-docs/js/search.js?1693585058></script></div><div class=highlightable><ul class=topics><li data-nav-id=/getstarted/ title="Get Started" class=dd-item><a href=https://jinntec.github.io/fore-docs/getstarted/>Get Started</a><ul><li data-nav-id=/getstarted/basics/ title=Basics class=dd-item><a href=https://jinntec.github.io/fore-docs/getstarted/basics/>Basics</a></li><li data-nav-id=/getstarted/mvc/ title="The anatomy of Fore" class=dd-item><a href=https://jinntec.github.io/fore-docs/getstarted/mvc/>The anatomy of Fore</a></li><li data-nav-id=/getstarted/hello/ title="Hello World" class=dd-item><a href=https://jinntec.github.io/fore-docs/getstarted/hello/>Hello World</a></li><li data-nav-id=/getstarted/todo/ title=todo class=dd-item><a href=https://jinntec.github.io/fore-docs/getstarted/todo/>A more complex example</a></li><li data-nav-id=/getstarted/todo-refined/ title="Todo refined" class=dd-item><a href=https://jinntec.github.io/fore-docs/getstarted/todo-refined/>Todo refined</a></li><li data-nav-id=/getstarted/submission/ title=Submissions class=dd-item><a href=https://jinntec.github.io/fore-docs/getstarted/submission/>Loading and sending data</a></li></ul></li><li data-nav-id=/guides/ title=Guides class=dd-item><a href=https://jinntec.github.io/fore-docs/guides/>Guides</a><ul><li data-nav-id=/guides/modularization/ title=Modularization class=dd-item><a href=https://jinntec.github.io/fore-docs/guides/modularization/>Modularization</a></li></ul></li><li data-nav-id=/elements/ title=Elements class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/>Elements</a><ul><li data-nav-id=/elements/fore/ title=fx-fore class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/fore/>fx-fore</a></li><li data-nav-id=/elements/model/ title=Model class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/model/>Model Elements</a><ul><li data-nav-id=/elements/model/model/ title="<fx-model>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/model/model/>&lt;fx-model></a></li><li data-nav-id=/elements/model/bind/ title="<fx-bind>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/model/bind/>&lt;fx-bind></a></li><li data-nav-id=/elements/model/functions/ title="<fx-function>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/model/functions/>&lt;fx-function></a></li><li data-nav-id=/elements/model/instance/ title="<fx-instance>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/model/instance/>&lt;fx-instance></a></li><li data-nav-id=/elements/model/submission/ title="<fx-submission>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/model/submission/>&lt;fx-submission></a></li></ul></li><li data-nav-id=/elements/ui/ title="UI Elements" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/ui/>UI Elements</a><ul><li data-nav-id=/elements/ui/alert/ title="<fx-alert>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/ui/alert/>&lt;fx-alert></a></li><li data-nav-id=/elements/ui/case/ title="<fx-case>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/ui/case/>&lt;fx-case></a></li><li data-nav-id=/elements/ui/container/ title="<fx-container>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/ui/container/>&lt;fx-container></a></li><li data-nav-id=/elements/ui/control/ title="<fx-control>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/ui/control/>&lt;fx-control></a></li><li data-nav-id=/elements/ui/dialog/ title="<fx-dialog>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/ui/dialog/>&lt;fx-dialog></a></li><li data-nav-id=/elements/ui/hint/ title="<fx-hint>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/ui/hint/>&lt;fx-hint></a></li><li data-nav-id=/elements/ui/inspector/ title="<fx-inspector>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/ui/inspector/>&lt;fx-inspector></a></li><li data-nav-id=/elements/ui/items/ title="<fx-items>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/ui/items/>&lt;fx-items></a></li><li data-nav-id=/elements/ui/output/ title="<fx-output>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/ui/output/>&lt;fx-output></a></li><li data-nav-id=/elements/ui/repeat/ title="<fx-repeat>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/ui/repeat/>&lt;fx-repeat></a></li><li data-nav-id=/elements/ui/switch/ title="<fx-switch>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/ui/switch/>&lt;fx-switch></a></li><li data-nav-id=/elements/ui/trigger/ title="<fx-trigger>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/ui/trigger/>&lt;fx-trigger></a></li></ul></li><li data-nav-id=/elements/actions/ title=Actions class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/actions/>Action Elements</a><ul><li data-nav-id=/elements/actions/action/ title="<fx-action>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/actions/action/>&lt;fx-action></a></li><li data-nav-id=/elements/actions/append/ title="<fx-append>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/actions/append/>&lt;fx-append></a></li><li data-nav-id=/elements/actions/confirm/ title="<fx-confirm>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/actions/confirm/>&lt;fx-confirm></a></li><li data-nav-id=/elements/actions/delete/ title="<fx-delete>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/actions/delete/>&lt;fx-delete></a></li><li data-nav-id=/elements/actions/dispatch/ title="<fx-dispatch>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/actions/dispatch/>&lt;fx-dispatch></a></li><li data-nav-id=/elements/actions/hide/ title="<fx-hide>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/actions/hide/>&lt;fx-hide></a></li><li data-nav-id=/elements/actions/insert/ title="<fx-insert>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/actions/insert/>&lt;fx-insert></a></li><li data-nav-id=/elements/actions/load/ title="<fx-load>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/actions/load/>&lt;fx-load></a></li><li data-nav-id=/elements/actions/message/ title="<fx-message>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/actions/message/>&lt;fx-message></a></li><li data-nav-id=/elements/actions/refresh/ title="<fx-refresh>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/actions/refresh/>&lt;fx-refresh></a></li><li data-nav-id=/elements/actions/replace/ title="<fx-replace>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/actions/replace/>&lt;fx-replace></a></li><li data-nav-id=/elements/actions/reset/ title="<fx-reset>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/actions/reset/>&lt;fx-reset></a></li><li data-nav-id=/elements/actions/return/ title="<fx-return>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/actions/return/>&lt;fx-return></a></li><li data-nav-id=/elements/actions/send/ title="<fx-send>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/actions/send/>&lt;fx-send></a></li><li data-nav-id=/elements/actions/setfocus/ title="<fx-setfocus>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/actions/setfocus/>&lt;fx-setfocus></a></li><li data-nav-id=/elements/actions/setvalue/ title="<fx-setvalue>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/actions/setvalue/>&lt;fx-setvalue></a></li><li data-nav-id=/elements/actions/show/ title="<fx-show>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/actions/show/>&lt;fx-show></a></li><li data-nav-id=/elements/actions/toggle/ title="<fx-toggle>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/actions/toggle/>&lt;fx-toggle></a></li><li data-nav-id=/elements/actions/toggleboolean/ title="<fx-toggleboolean>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/actions/toggleboolean/>&lt;fx-toggleboolean></a></li><li data-nav-id=/elements/actions/update/ title="<fx-update>" class=dd-item><a href=https://jinntec.github.io/fore-docs/elements/actions/update/>&lt;fx-update></a></li></ul></li></ul></li><li data-nav-id=/events/ title=Events class=dd-item><a href=https://jinntec.github.io/fore-docs/events/>Events</a></li><li data-nav-id=/functions/ title=Functions class=dd-item><a href=https://jinntec.github.io/fore-docs/functions/>Functions</a></li><li data-nav-id=/tools/ title=Tools class=dd-item><a href=https://jinntec.github.io/fore-docs/tools/>Tools</a></li><li data-nav-id=/glossary/ title="Concepts & Terms" class=dd-item><a href=https://jinntec.github.io/fore-docs/glossary/>Concepts & Terms</a></li><li data-nav-id=/links/ title=Links class=dd-item><a href=https://jinntec.github.io/fore-docs/links/>Links</a></li><li data-nav-id=/architecture/ title=Architecture class="dd-item
active"><a href=https://jinntec.github.io/fore-docs/architecture/>Architecture</a><ul><li data-nav-id=/architecture/initialization/ title=Initialization class=dd-item><a href=https://jinntec.github.io/fore-docs/architecture/initialization/>Initialization</a></li><li data-nav-id=/architecture/update-cycle/ title="Update Cycle" class=dd-item><a href=https://jinntec.github.io/fore-docs/architecture/update-cycle/>Update Cycle</a></li></ul></li><li data-nav-id=/faq/ title="Frequently Asked Questions" class=dd-item><a href=https://jinntec.github.io/fore-docs/faq/>Frequently Asked Questions</a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://github.com/jinntec/Fore><i class='fab fa-github'></i> Github</a></li><li><a class=padding href=https://jinntec.github.io/fore-docs/links><i class='fa fa-link'></i> Links</a></li><li><a class=padding href=https://jinntec.github.io/fore-docs/tags><i class='fas fa-tags'></i> Tags</a></li></ul></section><section id=footer><p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> and <a href=https://gohugo.io/>Hugo</a></p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=top-github-link><a class=github-link title='Edit this page' href=https://github.com/Jinntec/fore-docs/tree/main/content/architecture/_index.md target=blank><i class="fas fa-code-branch"></i>
<span id=top-github-link-text>Edit this page</span></a></div><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span class=links><a href=https://jinntec.github.io/fore-docs/>Fore</a> > Architecture</span></div></div></div><div id=head-tags><div class=tags><a class=tag-link href=https://jinntec.github.io/fore-docs/tags/version-1.0.0>Version 1.0.0</a>
<a class=tag-link href=https://jinntec.github.io/fore-docs/tags/mvc>MVC</a></div></div><div id=chapter><div id=body-inner><h1 id=architecture>Architecture</h1><p>This chapter gives some insights into the inner workings of Fore.
An understanding of the principles certainly helps to get the most out of Fore.</p><p><img src=https://jinntec.github.io/fore-docs/images/mvc.svg alt=MVC></p><p>Fore is build as a classical MVC architecture.</p><ul><li><strong>M</strong>odel -> <code>&lt;fx-model></code> Element</li><li><strong>V</strong>iew -> Fore UI Elements</li><li><strong>C</strong>ontroller -> Fore Action Elements</li></ul><h2 id=the-forebody>The ForeBody</h2><p>At the very minimum there needs to be a <code>fx-fore</code> element to get Fore into live. Without content this won&rsquo;t do anything
so we can consider these a unit and call it a &lsquo;ForeBody&rsquo;. Adding Fore to your page means to add a ForeBody.</p><p>The <code>fx-fore</code> element creates a scope for everything contained within it. By default Fore lives in lightDOM and is fully
accessible to global styling. However there are options to put Fore also into shadowDOM if that&rsquo;s necessary or
preferred.</p><pre tabindex=0><code>&lt;fx-fore&gt;
    &lt;!-- the ForeBody --&gt;
&lt;/fx-fore&gt;
</code></pre><blockquote><p>Styling-wise the <code>fx-fore</code> element is layout-neutral.</p></blockquote><h3 id=what-fx-fore-does>What fx-fore does</h3><p>The <code>fx-fore</code> element is responsible for:</p><ul><li>kick off processing</li><li>initing UI</li><li>refreshing the UI</li><li>messaging</li></ul><blockquote><p>The detailed initialization process is described under &lsquo;Initialization&rsquo;.</p></blockquote><h2 id=fore-model>Fore Model</h2><p>The Fore model is a container element for data, constraints, requests and custom functions. As Actions can
occur in all places there might be also a couple of Actions.</p><pre tabindex=0><code>&lt;fx-fore&gt;
    &lt;fx-model&gt;
        &lt;!-- 1 to n --&gt;
        &lt;fx-action&gt;&lt;/fx-action&gt;
        
        &lt;!-- 1 to n --&gt;
        &lt;fx-instance&gt;&lt;/fx-instance&gt;

        &lt;!-- 0 to n --&gt;
        &lt;fx-bind&gt;&lt;/fx-bind&gt;
        
        &lt;!-- 0 to n --&gt;
        &lt;fx-submission&gt;&lt;/fx-submission&gt;

        &lt;!-- 0 to n --&gt;
        &lt;fx-function&gt;&lt;/fx-function&gt;
    &lt;/fx-model&gt;
&lt;/fx-fore&gt;
</code></pre><blockquote><p>the <code>fx-model</code> element is a head-less element - it does not display at all and is layout-neutral.</p></blockquote><h3 id=what-the-model-does>What the model does</h3><p>When a model is constructed it will perform some steps to enable efficient processing throughout the lifecycle.</p><h4 id=rebuild>rebuild</h4><p>During rebuild all <code>fx-bind</code> elements are traversed and a DependencyGraph for the data is constructed.</p><p>For each bind the <code>ref</code> attribute is evaluated with XPath and results in a nodeset of matching data nodes (if any).
For each of those a ModelItem object will be created that wraps the data node and additionally holds it&rsquo;s state.</p><p>During the next step the other attributes of bind are examined to detect &lsquo;foreign nodes&rsquo;. Each &lsquo;foreign node&rsquo; will
become a new dependency in a directed Dependency Graph.</p><p>rebuild finishes by dispatch <code>rebuild-done</code> event.</p><h4 id=recalculate>recalculate</h4><p><code>recalculate</code> will first check if there have been changes since last run.</p><p>If there are no changes - usually only the case when initializing - the freshly-build mainGraph is used to
determine the correct calculation order of the graph. The resulting list is iterated and each ModelItem will recompute
its <code>calculate</code> expression.</p><p>If there have been changes to data nodes these are reported in a &lsquo;changed&rsquo; list. This list is used to build s subgraph
of the mainGraph only containing the affected nodes. These are then computed as above.</p><h4 id=revalidate>revalidate</h4><p>During revalidation the other possbile attributes of <code>fx-bind</code> are evaluated using the <code>ref</code> expression as context.</p><p>These facets result in Boolean values that are assigned to the ModelItem. At refresh time the ModelItem is then
used to synchronize the model state with the UI state and reflecting states like &lsquo;readonly&rsquo; to the HTML attribute.</p><p>Evaluating the &lsquo;constraint&rsquo; attribute will add an alert to the ModelItem if defined.</p><article class=summary><div><header><h4><a href=https://jinntec.github.io/fore-docs/architecture/initialization/>Initialization</a></h4><div class=tags><a class=tag-link href=https://jinntec.github.io/fore-docs/tags/architecture>architecture</a>
<a class=tag-link href=https://jinntec.github.io/fore-docs/tags/lifecycle>lifecycle</a>
<a class=tag-link href=https://jinntec.github.io/fore-docs/tags/initialization>initialization</a></div></header><h1></h1></div><div><a href=https://jinntec.github.io/fore-docs/architecture/initialization/>Read More…</a></div></article><article class=summary><div><header><h4><a href=https://jinntec.github.io/fore-docs/architecture/update-cycle/>Update Cycle</a></h4><div class=tags><a class=tag-link href=https://jinntec.github.io/fore-docs/tags/architecture>architecture</a>
<a class=tag-link href=https://jinntec.github.io/fore-docs/tags/lifecycle>lifecycle</a>
<a class=tag-link href=https://jinntec.github.io/fore-docs/tags/update>update</a></div></header><h1></h1></div><div><a href=https://jinntec.github.io/fore-docs/architecture/update-cycle/>Read More…</a></div></article><footer class=footline></footer></div></div></div><div id=navigation><a class="nav nav-prev" href=https://jinntec.github.io/fore-docs/links/ title=Links><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=https://jinntec.github.io/fore-docs/architecture/initialization/ title=Initialization style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=https://jinntec.github.io/fore-docs/js/clipboard.min.js?1693585058></script>
<script src=https://jinntec.github.io/fore-docs/js/perfect-scrollbar.min.js?1693585058></script>
<script src=https://jinntec.github.io/fore-docs/js/perfect-scrollbar.jquery.min.js?1693585058></script>
<script src=https://jinntec.github.io/fore-docs/js/jquery.sticky.js?1693585058></script>
<script src=https://jinntec.github.io/fore-docs/js/featherlight.min.js?1693585058></script>
<script src=https://jinntec.github.io/fore-docs/js/highlight.pack.js?1693585058></script>
<script>hljs.initHighlightingOnLoad()</script><script src=https://jinntec.github.io/fore-docs/js/modernizr.custom-3.6.0.js?1693585058></script>
<script src=https://jinntec.github.io/fore-docs/js/learn.js?1693585058></script>
<script src=https://jinntec.github.io/fore-docs/js/hugo-learn.js?1693585058></script>
<script src=https://jinntec.github.io/fore-docs/mermaid/mermaid.js?1693585058></script>
<script>mermaid.initialize({startOnLoad:!0})</script><script type=module src=https://jinntec.github.io/fore-docs//js/fore-dev.js></script></body></html>